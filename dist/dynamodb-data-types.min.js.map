{"version":3,"sources":["dist/dynamodb-data-types.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","window","DynamoDbDataTypes","./lib/dynamodb-data-types","2","Buffer","isArray","errs","__preserveArrays","_preserveArrays","test","arr","fn","isnumber","el","Number","isstring","String","isbinary","ArrayBuffer","detectType","val","explicit_type","opts","key","type_specified","types","type","typeExists","MULTIPLES","getType","explicit","detected","indexOf","eachToString","map","v","toString","_arrayBufferToBase64","buffer","binary","bytes","Uint8Array","len","byteLength","fromCharCode","btoa","bufferLikeToString","wrap1","B","BS","N","NS","S","SS","BOOL","L","obj","M","wrap","NULL","result","hasOwnProperty","wrapped","unwrapFns","undefined","unwrap1","unwrap","dynamoData","keys","Object","typeStr","NoDatatype","attrVal","value","wrapDebug","unwrapDebug","unwrapped","this","./errs","./util","3","attr","util","isStr","hasKeysOnly","attrs","appendAttr","action","updates","Action","Value","appendAttrsKeysOnly","split","trim","appendAttrs","_updates","isTypeUpdates","Updates","forIn","add","put","del","delete","addProp","name","target","defineProperty","writable","enumerable","configurable","prototype","./AttributeValue","4","preserveArrays","AttributeValue","AttributeValueUpdate","./AttributeValueUpdate","5","NoData","6","Array","arg","7"],"mappings":"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"}